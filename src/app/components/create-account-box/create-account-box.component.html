<form [formGroup]="formulario" class="box mat-elevation-z8" (ngSubmit)="onSubmit()">
  <mat-form-field appearance="outline">
    <mat-label>Usuário</mat-label>
    <input matInput type="text" placeholder="Digite um nome para o usuário" formControlName="username" (blur)="checkUsernameExist()">
    <mat-icon matSuffix>person_outline</mat-icon>
    @if (isUsernameExists) {
      <mat-hint>Usuário já existe</mat-hint>
    }
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Email</mat-label>
    <input matInput type="email" placeholder="Digite um email válido" formControlName="email" (blur)="checkEmailExist()">
    <mat-icon matSuffix>mail_outline</mat-icon>
    @if (isEmailExists) {
      <mat-hint>Email já existe</mat-hint>
    }
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Senha</mat-label>
    <input matInput type="password" placeholder="Digite a senha" formControlName="password">
    <mat-icon matSuffix>password</mat-icon>
    @if (!isPasswordChecked && formulario.get('cpassword')?.touched) {
      <mat-hint>Senhas diferentes</mat-hint>
    }
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Confirmar senha</mat-label>
    <input matInput type="password" placeholder="Repita a senha" formControlName="cpassword" (keyup)="checkPassword()">
    <mat-icon matSuffix>password</mat-icon>
  </mat-form-field>
  <button mat-raised-button type="submit" color="primary" [disabled]="formulario.invalid || !isPasswordChecked || isEmailExists || isUsernameExists">CRIAR CONTA</button>
  <button mat-raised-button type="button" color="accent" style="margin-top: 20px;" [routerLink]="['/index']">VOLTAR</button>
</form>
